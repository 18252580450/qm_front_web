define("lib/requirejs/css.min!components/validator/validator",[],function(){}),define("validator",["jquery","eventTarget","lib/requirejs/css.min!components/validator/validator.css"],function(t,e){function r(){var r=this,n={addMethod:function(t,e){t&&e&&s.isFunction(e)&&!r.validateRules[t]&&(r.validateRules[t]=e)},extendMessages:function(e){s.isObject(e)&&t.extend(r.defaultMsg,e)},form:function(){var t=r.dealValidateArr();return t&&r.returnObj.trigger("success"),t}};return t.extend(n,e.prototype,{version:i}),n}function n(e){var r=t(e),n=r.closest(".sn-checkboxes"),o=n.length>0?n:r.closest(".sn-radios"),i="";if(o.length>0){var s=r.attr("name"),a=o.find("[name='"+s+"'][checked]");t.each(a,function(e,r){i+=0===e?t(r).val():","+t(r).val()})}else i=r.val();return i}function o(e){var r;return r="none"==t(e).css("display")||"hidden"==t(e).attr("type")?t(e).closest(".combo-select").length>0?t(e).closest(".combo-select")[0]:t(e).siblings()[0]:t(e).closest(".sn-checkboxes").length>0?t(e).closest(".sn-checkboxes")[0]:t(e).closest(".sn-radios").length>0?t(e).closest(".sn-radios")[0]:e}var i="1.0.17",s={isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.apply(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.apply(t)}},a={decmal:"^([+-]?)\\d*\\.\\d+$",decmal1:"^[1-9]\\d*.\\d*|0.\\d*[1-9]\\d*$",decmal2:"^-([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*)$",decmal3:"^-?([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*|0?.0+|0)$",decmal4:"^[1-9]\\d*.\\d*|0.\\d*[1-9]\\d*|0?.0+|0$",decmal5:"^(-([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*))|0?.0+|0$",intege:"^-?[1-9]\\d*$",intege1:"^[1-9]\\d*$",intege2:"^-[1-9]\\d*$",num:"^([+-]?)\\d*\\.?\\d+$",num1:"^[1-9]\\d*|0$",num2:"^-[1-9]\\d*|0$",ascii:"^[\\x00-\\xFF]+$",chinese:"^[\\u4e00-\\u9fa5]+$",color:"^[a-fA-F0-9]{6}$",date:"^\\d{4}(\\-|\\/|\\.)\\d{1,2}\\1\\d{1,2}$",time:"^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$",email:"^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$",idcard:"^(^\\d{15}$|^\\d{18}$|^\\d{17}(\\d|X|x))$",ip4:"^(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)$",letter:"^[A-Za-z]+$",letter_l:"^[a-z]+$",letter_u:"^[A-Z]+$",mobile:"^0?(13|15|17|18|14)[0-9]{9}$",notempty:"^\\S+$",password:"^.*[A-Za-z0-9\\w_-]+.*$",fullNumber:"^[0-9]+$",picture:"(.*)\\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$",qq:"^[1-9]*[1-9][0-9]*$",rar:"(.*)\\.(rar|zip|7zip|tgz)$",tel:"^[0-9\\-()（）]{7,18}$",url:"^http[s]?:\\/\\/([\\w-]+\\.)+[\\w-]+([\\w-./?%&=]*)?$",username:"^[A-Za-z0-9_\\-\\u4e00-\\u9fa5]+$",deptname:"^[A-Za-z0-9_()（）\\-\\u4e00-\\u9fa5]+$",zipcode:"^\\d{6}$",realname:"^[A-Za-z\\u4e00-\\u9fa5]+$",companyname:"^[A-Za-z0-9_()（）\\-\\u4e00-\\u9fa5]+$",companyaddr:"^[A-Za-z0-9_()（）\\#\\-\\u4e00-\\u9fa5]+$",companysite:"^http[s]?:\\/\\/([\\w-]+\\.)+[\\w-]+([\\w-./?%&#=]*)?$"},l={required:"此项必填",mobile:"此项必需为手机号",number:"此项必需为数字",email:"此项必需为邮箱",date:"此项必需为日期",time:"此项必需为时间",max:"此项最大值为{{0}}",min:"此项最小值为{{0}}"},d={required:function(t){return!(""==t.replace(/\s/g,"")||"string"!=typeof t)},mobile:function(t){return new RegExp(a.mobile).test(t)},number:function(t){return new RegExp(a.num).test(t)},date:function(t){return new RegExp(a.date).test(t)},time:function(t){return new RegExp(a.time).test(t)},email:function(t){return new RegExp(a.email).test(t)},digits:function(t){return new RegExp(a.intege).test(t)},max:function(t,e){return t.length<=e},min:function(t,e){return t.length>=e}},c=function(t){var e={};for(var r in t)!function(t){e[t]=function(e){return new RegExp(a[t]).test(e)}}(r);return e},u=function(t){return!!t.tagName},f=!1,p=function(n){return n.el?n.el instanceof jQuery&&n.el.length>0?this.form=n.el:u(n.el)?this.form=t(n.el):"string"==typeof n.el&&t(n.el).length>0&&(this.form=t(n.el)):this.form=t("<div></div>"),this.form.addClass("validatorForm").css({position:"relative"}),this.submitBtn=n.submitBtn,this.resetBtn=n.resetBtn,this.rules=n.rules,this.messages=n.messages,this.msgPos=n.msgPos?n.msgPos:"top",this.defaultMsg=l,this.dialog=n.dialog,this.items={},this.SnRegExp=t.extend(a,n.pattern),this.addVal=c(n.pattern),this.validateRules=t.extend(c(a),d,this.addVal),this.returnObj=r.call(this),e.call(this.returnObj),this.eventInit(),this.returnObj};return t.extend(p.prototype,{eventInit:function(){this.getItems(),this.submitBtn&&this.submitBtn.length&&this.submitBtn.on("click",t.proxy(function(){this.dealValidateArr()&&this.returnObj.trigger("success")},this)),this.resetBtn&&this.resetBtn.length&&this.resetBtn.on("click",t.proxy(function(t){f=!0,this.returnObj.trigger("reset",t)},this))},eventEleInit:function(e){var r=this;switch(e.tagName){case"INPUT":r.form.on("blur focus","input[name="+e.name+"]",function(n){"focusin"==n.type?r.focusEvent.call(this):setTimeout(t.proxy(function(){if(!f){var t=r.verify(e,this);r.errorFun(t,this,!0)}},this),200)});break;case"TEXTAREA":r.form.on("change blur focus","textarea[name="+e.name+"]",function(n){"focusin"==n.type?r.focusEvent.call(this):setTimeout(t.proxy(function(){var t=r.verify(e,this);r.errorFun(t,this,!0)},this),200)});break;case"SELECT":r.form.on("change","select[name="+e.name+"]",function(){r.focusEvent.call(this),setTimeout(t.proxy(function(){var t=r.verify(e,this);r.errorFun(t,this,!0)},this),200)})}},focusEvent:function(){var e=this,r=t(e).attr("name"),n=o(e);f=!1,clearTimeout(n.timer),t(".errorText").each(function(e,o){if(t(o).data("name")==r)return t(o).remove(),t(n).removeClass("validate-error"),!1})},getItems:function(t){if(this.items)for(var e in this.rules){if(!this.items[e]){var r=this.form.find("[name="+e+"]");r.length&&(this.items[e]={name:e,el:r,tagName:r[0].tagName,rules:this.rules[e].split("|")},this.eventEleInit(this.items[e]))}if(this.items[e]&&t){var n=this.form.find("[name="+e+"]");t.call(this,this.items[e],n[0])}}},dealValidateArr:function(){var t=[];return this.form.find(".errorText").remove(),this.form.find(".validate-error").removeClass("validate-error"),f=!0,this.getItems(function(e,r){if(e.rules){var n=this.verify(e,r);this.errorFun(n,r,this.dialog),n&&t.push(n)}}),!t.length},verify:function(e,r){var o="",i=n(r)||"";return t.each(e.rules,t.proxy(function(r,n){var s=this.getRule(n);if(s.is_rule&&(t.inArray("required",e.rules)!=-1||this.validateRules.required(i))&&s.validate(i))return o=this.messages&&this.messages[e.name]&&this.messages[e.name][s.val]?this.messages[e.name][s.val]:this.defaultMsgFun(s),!1},this)),o},defaultMsgFun:function(t){var e="验证不通过";return this.defaultMsg[t.val]&&(e=this.defaultMsg[t.val].replace("{{0}}",t.str1?t.str1:"").replace("{{1}}",t.str2?t.str2:"")),e},getRule:function(e){var r={},n=this,o=[];return e.split("-")[1]?(o=e.split("-"),r.val=o[0],r.str1=o[1]):r.val=e,t.extend(r,{is_rule:Boolean(n.validateRules[r.val]),validate:function(t){var e;return e=r.str1?n.validateRules[r.val](t,r.str1):n.validateRules[r.val](t),!e}}),r},errorFun:function(e,r,n){var i=this,s=o(r),a=t(r).attr("name");if(e){if(t(s).addClass("validate-error"),n){clearTimeout(s.timer),t(".errorText").each(function(e,r){if(t(r).data("name")==a)return t(r).remove(),!1});var l=t(s).offset().top,d=t(s).offset().left,c=this.form.offset().top,u=this.form.offset().left,p=this.form[0].scrollTop,m=this.form[0].scrollLeft,h=s.offsetHeight,b=s.offsetWidth,x=23,g=t('<div class="errorText"></span><span class="icon-i">!</span><span class="error-text"></span></div>');"right"===i.msgPos?g.addClass("arrow-left").data("name",a).appendTo(this.form).css({top:l-c+p+(h-x)/2,left:d-u+m+b+3,width:b}):"bottom"===i.msgPos?g.addClass("arrow-bottom").data("name",a).appendTo(this.form).css({top:l-c+p+h,left:d-u+m,width:b}):g.addClass("arrow-top").data("name",a).appendTo(this.form).css({top:l-c+p-x,left:d-u+m,width:b}),g.find(".error-text").text(e),s.timer=setTimeout(function(){g.remove(),t(s).removeClass("validate-error"),f=!1},2500)}}else t(s).removeClass("validate-error")}}),window.console=window.console||function(){var t={};return t.log=t.warn=t.debug=t.info=t.error=t.time=t.dir=t.profile=t.clear=t.exception=t.trace=t.assert=function(){},t}(),p}),function(t){var e=document,r="appendChild",n="styleSheet",o=e.createElement("style");o.type="text/css",e.getElementsByTagName("head")[0][r](o),o[n]?o[n].cssText=t:o[r](e.createTextNode(t))}('.validatorForm input,\r\n.validatorForm select,\r\n.validatorForm textarea {\r\n\tborder: 1px solid #d0d6d9;\r\n\t/*box-sizing: border-box;*/\r\n}\r\n\r\n.validatorForm .validate-error {\r\n\t/*color: #c9344b;*/\r\n\t/*outline: 2px solid #f66;\r\n    outline-offset: -2px;*/\r\n\tbackground-color: #fff2f4!important;\r\n\tborder: 1px solid #F65A56!important;\r\n}\r\n/*由于radios的容器本身没有border,加上border后有搓动,改用outline*/\r\n.validatorForm .sn-radios.validate-error,.validatorForm .sn-checkboxes.validate-error{\r\n\tborder: none!important;\r\n\toutline:1.5px solid #F65A56;\r\n}\r\n\r\n.errorText {\r\n\tposition: absolute;\r\n\tfont-size: 0;\r\n\tz-index: 99;\r\n\theight: 23px;\r\n\tline-height: 23px;\r\n\tbackground-color: #ffebeb;\r\n\tbox-sizing: border-box;\r\n\tborder: 1px solid #faccc6;\r\n\tbox-shadow: 1px 1px 1px rgba(0, 0, 0, .2);\r\n}\r\n\r\n.errorText .icon-i {\r\n\tposition: absolute;\r\n\ttop: 5px;\r\n\tleft: 0;\r\n\tdisplay: inline-block;\r\n\twidth: 11px;\r\n\theight: 11px;\r\n\tbackground-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMBJREFUeNps0bEJwlAUheFoITZa2BhE1NJCS3eIGSCFE2QDdQJdwQEsdADNGmIvES1iZSFYWPkfuIHHIxc+Lpx3EsJL7btIApshVogRosAJW9xVqFsxwhUpBmjYTi2PyvIIB7SC6lF+VE/lNdrO4Q0d2+4DS5Xn3pt6eNt2J1a564VNjG27E6r8qvjOfUVWqHz2Ql3TDE8vz1Te4OOEuu8L+k6m843KORLvgYlX1Hle/pQMU+zwwM/2znKdB38BBgDwbiPAiLQ75AAAAABJRU5ErkJggg==\');\r\n\tbackground-size: 100% 100%;\r\n\tbackground-repeat:no-repeat;\r\n\tmargin: 0 6px;\r\n}\r\n\r\n.errorText .error-text {\r\n\tdisplay: inline-block;\r\n\twidth: 100%;\r\n\tpadding-left: 24px;\r\n\tfont-size: 12px;\r\n\tcolor: #fe5750;\r\n\tbox-sizing: border-box;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n}\r\n\r\n.errorText:before {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tposition: absolute;\r\n\tleft: 12px;\r\n\tborder-right: 6px solid transparent;\r\n\tborder-left: 6px solid transparent;\r\n}\r\n\r\n.errorText:after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tposition: absolute;\r\n\tleft: 12px;\r\n\tborder-right: 6px solid transparent;\r\n\tborder-left: 6px solid transparent;\r\n}\r\n.errorText.arrow-top:before{\r\n\tbottom: -18px;\r\n\tborder-top: 9px solid #faccc6;\r\n\tborder-bottom: 9px solid transparent;\r\n}\r\n.errorText.arrow-top:after{\r\n\tbottom: -17px;\r\n\tborder-top: 9px solid #ffebeb;\r\n\tborder-bottom: 9px solid transparent;\r\n}\r\n\r\n.errorText.arrow-bottom:before{\r\n\ttop:-18px;\r\n\tborder-top: 9px solid transparent;\r\n\tborder-bottom: 9px solid #faccc6;\r\n}\r\n.errorText.arrow-bottom:after{\r\n\ttop:-16px;\r\n\tborder-top: 9px solid transparent;\r\n\tborder-bottom: 9px solid #ffebeb;\r\n}\r\n\r\n.errorText.arrow-left:before{\r\n\tleft: -13px;\r\n\ttop:5px;\r\n\tborder-top: 6px solid transparent;\r\n\tborder-bottom: 6px solid transparent;\r\n\tborder-right: 6px solid #faccc6;\r\n\tborder-left: 6px solid transparent;\r\n}\r\n.errorText.arrow-left:after{\r\n\tleft: -12px;\r\n\ttop:5px;\r\n\tborder-top: 6px solid transparent;\r\n\tborder-bottom: 6px solid transparent;\r\n\tborder-right: 6px solid #ffebeb;\r\n\tborder-left: 6px solid transparent;\r\n}\r\n');